@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prism.js syntax highlighting - only apply to code blocks with language classes */
/* Import Prism.js theme but scope it to language-* classes only */
@import 'prismjs/themes/prism-dark.css';

/* Override Prism.js default styles to only apply to language-* classes */
/* This prevents Prism.js from styling plain code blocks without language identifiers */
.prose pre:not([class*="language-"]) {
  /* Ensure plain code blocks don't get Prism.js highlight background */
  background: #2d2d2d !important;
  color: #faf9f7 !important;
}

.prose pre:not([class*="language-"]) code {
  /* Plain code blocks should not have Prism.js token styling */
  background: transparent !important;
  color: #faf9f7 !important;
}

/* Reset any Prism.js token styles on plain code blocks */
.prose pre:not([class*="language-"]) .token {
  /* Remove token styling from plain code blocks */
  color: inherit !important;
  background: transparent !important;
}

/* Custom Prism.js theme overrides to complement blog's dark theme */
/* Base colors: background #2d2d2d, text #faf9f7 */
/* Only apply to code blocks WITH language classes */
.prose pre[class*="language-"],
.prose code[class*="language-"] {
  background: #2d2d2d !important;
  color: #faf9f7 !important;
}

/* Token colors - ensure WCAG AA contrast on dark background */
.prose .token.comment,
.prose .token.prolog,
.prose .token.doctype,
.prose .token.cdata {
  color: #8b8b8b; /* Muted gray for comments */
}

.prose .token.punctuation {
  color: #d4c4b0; /* Light beige for punctuation */
}

.prose .token.property,
.prose .token.tag,
.prose .token.boolean,
.prose .token.number,
.prose .token.constant,
.prose .token.symbol,
.prose .token.deleted {
  color: #d4a574; /* Warm beige for properties/numbers */
}

.prose .token.selector,
.prose .token.attr-name,
.prose .token.string,
.prose .token.char,
.prose .token.builtin,
.prose .token.inserted {
  color: #a8c98f; /* Soft green for strings */
}

.prose .token.operator,
.prose .token.entity,
.prose .token.url,
.prose .language-css .token.string,
.prose .style .token.string {
  color: #d4c4b0; /* Light beige for operators */
}

.prose .token.atrule,
.prose .token.attr-value,
.prose .token.keyword {
  color: #c9a8d4; /* Soft purple for keywords */
}

.prose .token.function,
.prose .token.class-name {
  color: #8bb3d4; /* Soft blue for functions */
}

.prose .token.regex,
.prose .token.important,
.prose .token.variable {
  color: #d4a574; /* Warm beige for regex/variables */
}

/* Ensure code blocks maintain existing styling */
.prose pre[class*="language-"] {
  @apply bg-[#2d2d2d] text-[#faf9f7] rounded p-4 overflow-x-auto my-6;
  font-size: 14px;
  line-height: 1.6;
}

.prose pre[class*="language-"] code {
  @apply bg-transparent text-[#faf9f7] p-0;
  font-size: 14px;
  color: inherit;
}

/* Ensure inline code styling is preserved (not affected by Prism.js) */
.prose code:not([class*="language-"]) {
  @apply bg-[#f5f3f0] text-[#8b7355] px-1.5 py-0.5 rounded text-sm font-mono;
  font-size: 0.9em;
}

/* Custom typography improvements */
@layer base {
  body {
    @apply antialiased;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    letter-spacing: -0.011em;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    letter-spacing: -0.02em;
  }
}

/* Ensure line breaks are preserved in markdown content */
.prose br {
  display: block;
  margin-bottom: 0.5em;
}

/* Ensure paragraphs have proper spacing */
.prose p {
  margin-bottom: 1.5em;
  line-height: 1.75;
  font-size: 16px;
  color: #2d2d2d;
}

.prose h1, .prose h2, .prose h3 {
  @apply font-semibold text-[#2d2d2d];
}

.prose h1 {
  @apply text-3xl mt-12 mb-6;
  line-height: 1.25;
  font-weight: 600;
}

.prose h2 {
  @apply text-2xl mt-10 mb-5;
  line-height: 1.3;
  font-weight: 600;
}

.prose h3 {
  @apply text-xl mt-8 mb-4;
  line-height: 1.35;
  font-weight: 600;
}

.prose code {
  @apply bg-[#f5f3f0] text-[#8b7355] px-1.5 py-0.5 rounded text-sm font-mono;
  font-size: 0.9em;
}

.prose pre {
  @apply bg-[#2d2d2d] text-[#faf9f7] rounded p-4 overflow-x-auto my-6;
  font-size: 14px;
  line-height: 1.6;
}

.prose pre code {
  @apply bg-transparent text-[#faf9f7] p-0;
  font-size: 14px;
}

.prose blockquote {
  border-left: 3px solid #d4c4b0;
  @apply pl-5 italic text-[#6b6b6b] my-6;
  font-size: 15px;
  line-height: 1.7;
}

.prose ul, .prose ol {
  @apply space-y-2 my-5;
  padding-left: 1.5em;
}

.prose li {
  @apply leading-relaxed;
  margin-bottom: 0.5em;
  font-size: 15px;
  line-height: 1.8;
}

.prose ul li {
  list-style-type: disc;
}

.prose ol li {
  list-style-type: decimal;
}

.prose a {
  @apply text-[#8b7355];
  font-weight: 500;
}

.prose a:hover {
  @apply underline;
}

.prose strong {
  @apply font-semibold text-[#2d2d2d];
}

.prose hr {
  @apply border-t border-[#e8e6e3] my-8;
}

.prose table {
  @apply my-6 w-full;
  border-collapse: collapse;
}

.prose table th,
.prose table td {
  @apply border border-[#e8e6e3] px-4 py-2 text-left;
}

.prose table th {
  @apply bg-[#f5f3f0] font-semibold;
}

.prose img {
  @apply my-6 rounded;
  max-width: 100%;
  height: auto;
}

